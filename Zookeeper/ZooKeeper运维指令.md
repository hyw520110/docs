<p><span style="font-size:14px;"><strong>服务的启动与停止：</strong></span></p>
<p><span style="font-size:14px;">找到 %zkHome%\bin 目录，通过该目录下的zkServer.sh<br>启动 zkServer.sh start<br>停止 zkServer.sh stop<br>重启 zkServer.sh restart<br><span style="font-size:14px;color:rgb(51,51,51);">查看ZK服务状态 zkServer.sh status</span></span></p>
<p><br class="atl-forced-newline"><span style="color:rgb(51,51,51);font-size:14px;"><strong>zk客户端命令：</strong></span></p>
<p><span style="font-size:14px;"><span style="font-size:14px;color:rgb(51,51,51);">ZooKeeper命令行工具类似于Linux的shell环境，不过功能肯定不及shell啦，但 是使用它我们可以简单的对ZooKeeper进行访问，数据创建，数据修改等操作. &nbsp;使用 zkCli.sh -server 127.0.0.1:2181 连接到 ZooKeeper 服务，连接成功后，系统会输出 ZooKeeper 的相关环境以及配置信息。命令行工具的一些简单操作如下：</span><br class="atl-forced-newline"><span style="font-size:14px;color:rgb(51,51,51);">1. 显示根目录下、文件： ls / 使用 ls 命令来查看当前 ZooKeeper 中所包含的内容</span><br><span style="font-size:14px;color:rgb(51,51,51);">2. 显示根目录下、文件： ls2 / 查看当前节点数据并能看到更新次数等数据</span><br><span style="font-size:14px;color:rgb(51,51,51);">3. 创建文件，并设置初始内容： create /zk "test" 创建一个新的 znode节点" zk "以及与它关联的字符串</span><br><span style="font-size:14px;color:rgb(51,51,51);">4. 获取文件内容： get /zk 确认 znode 是否包含我们所创建的字符串</span><br><span style="font-size:14px;color:rgb(51,51,51);">5. 修改文件内容： set /zk "zkbak" 对 zk 所关联的字符串进行设置</span><br><span style="font-size:14px;color:rgb(51,51,51);">6. 删除文件： delete /zk 将刚才创建的 znode 删除</span><br><span style="font-size:14px;color:rgb(51,51,51);">7. 退出客户端： quit</span><br><span style="font-size:14px;color:rgb(51,51,51);">8. 帮助命令： help</span></span></p>
<p><br class="atl-forced-newline"><span style="font-size:14px;"><span style="font-size:14px;color:rgb(51,51,51);"><strong>内置的四字命令(方便且实用)</strong></span>&nbsp;：</span></p>
<p><span style="font-size:14px;"><span style="font-size:14px;color:rgb(51,51,51);">ZooKeeper 支持某些特定的四字命令字母与其的交互。它们大多是查询命令，用来获取 ZooKeeper 服务的当前状态及相关信息。用户在客户端可以通过 telnet 或 nc 向 ZooKeeper 提交相应的命令。nc的做法为 nc localhost 2181 + 回车 ，然后输入以下命令中的一个，则服务器会返回相应的信息</span><br class="atl-forced-newline"><span style="font-size:14px;color:rgb(51,51,51);">1.</span> <span style="font-size:14px;color:rgb(51,51,51);"><strong>stat</strong></span> <span style="font-size:14px;color:rgb(51,51,51);">来查看哪个节点被选择作为follower或者leader</span><br><span style="font-size:14px;color:rgb(51,51,51);">2.</span> <span style="font-size:14px;color:rgb(51,51,51);"><strong>ruok</strong></span> <span style="font-size:14px;color:rgb(51,51,51);">测试是否启动了该Server，若回复imok表示已经启动。</span><br><span style="font-size:14px;color:rgb(51,51,51);">3.</span> <span style="font-size:14px;color:rgb(51,51,51);"><strong>dump</strong></span> <span style="font-size:14px;color:rgb(51,51,51);">,列出未经处理的会话和临时节点。</span><br><span style="font-size:14px;color:rgb(51,51,51);">4.</span> <span style="font-size:14px;color:rgb(51,51,51);"><strong>kill</strong></span> <span style="font-size:14px;color:rgb(51,51,51);">,关掉server</span><br><span style="font-size:14px;color:rgb(51,51,51);">5.</span> <span style="font-size:14px;color:rgb(51,51,51);"><strong>conf</strong></span> <span style="font-size:14px;color:rgb(51,51,51);">,输出相关服务配置的详细信息。</span><br><span style="font-size:14px;color:rgb(51,51,51);">6.</span> <span style="font-size:14px;color:rgb(51,51,51);"><strong>cons</strong></span> <span style="font-size:14px;color:rgb(51,51,51);">,列出所有连接到服务器的客户端的完全的连接 / 会话的详细信息。</span><br><span style="font-size:14px;color:rgb(51,51,51);">7.</span> <span style="font-size:14px;color:rgb(51,51,51);"><strong>envi</strong></span> <span style="font-size:14px;color:rgb(51,51,51);">,输出关于服务环境的详细信息（区别于 conf 命令）。</span><br><span style="font-size:14px;color:rgb(51,51,51);">8.</span> <span style="font-size:14px;color:rgb(51,51,51);"><strong>reqs</strong></span> <span style="font-size:14px;color:rgb(51,51,51);">,列出未经处理的请求。</span><br><span style="font-size:14px;color:rgb(51,51,51);">9.</span> <span style="font-size:14px;color:rgb(51,51,51);"><strong>wchs</strong></span> <span style="font-size:14px;color:rgb(51,51,51);">,列出服务器 watch 的详细信息。</span><br><span style="font-size:14px;color:rgb(51,51,51);">10.</span> <span style="font-size:14px;color:rgb(51,51,51);"><strong>wchc</strong></span> <span style="font-size:14px;color:rgb(51,51,51);">,通过 session 列出服务器 watch 的详细信息，它的输出是一个与 watch 相关的会话的列表。</span><br><span style="font-size:14px;color:rgb(51,51,51);">11.</span> <span style="font-size:14px;color:rgb(51,51,51);"><strong>wchp</strong></span> <span style="font-size:14px;color:rgb(51,51,51);">,通过路径列出服务器 watch 的详细信息。它输出一个与 session 相关的路径。</span><br><span style="font-size:14px;color:rgb(51,51,51);">12.<strong>mntr</strong></span> <span style="font-size:14px;color:rgb(51,51,51);">,</span>输出一些ZK运行时信息，通过对这些返回结果的解析，可以达到监控的效果。<br>13.<strong>srst</strong> ,重置服务器的统计信息（<strong>功能性命令，慎用</strong>）<br>14.<strong>crst</strong> ,重置所有连接的统计信息（<strong>功能性命令，慎用</strong>）&nbsp;</span></p>
<p><span style="font-size:14px;"><br></span></p>
<h3 class="h4">ZooKeeper Commands: The Four Letter Words</h3>
<p><a href="http://zookeeper.apache.org/doc/r3.4.6/zookeeperAdmin.html#sc_zkCommands" target="_blank">http://zookeeper.apache.org/doc/r3.4.6/zookeeperAdmin.html#sc_zkCommands</a> </p>
<p><br></p>
